Vamos a usar axios: una librería que nos ayuda a consultar y enviar datos a las URLs que le indiquemos con una sintaxis un poco diferente a la de la librería request. Podemos usarla, por ejemplo, para hacer consultas a nuestra propia aplicación para comprobar que obtenemos la información que esperamos.

Instalación de axios:

npm install axios --save-dev
Vamos a probar el caso de éxito del método POST de nuestra API: la aplicación debe responder correctamente cuando los usuarios envían URLs de archivos PDF o páginas con código HTML común y corriente.

En este caso, vamos a utilizar datos “falsos” para correr las pruebas: en vez de descargar los recursos para consumir un PDFs o una páginas web, nosotros mismos vamos a escribir los datos con los que interactúa nuestro código para comprobar que la aplicación responde correctamente.